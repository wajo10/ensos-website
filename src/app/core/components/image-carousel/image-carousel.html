<div class="carousel"
     [class.dragging]="dragging"
     [style.--carousel-h.vh]="height"
     [style.--carousel-margin.px]="margin"
     (mouseenter)="onMouseEnter()"
     (mouseleave)="onMouseLeave()"
     (pointerdown)="onPointerDown($event)"
     (pointermove)="onPointerMove($event)"
     (pointerup)="onPointerUp($event)"
     (pointercancel)="onPointerUp($event)"
     (pointerleave)="onPointerUp($event)"
     aria-live="off">

  <!-- Pista -->
  <div class="track"
       [class.dragging]="dragging"
       [style.transform]="trackTransform">
    @for (img of images ?? []; track img.src; let i = $index) {
      <figure class="slide" [attr.aria-hidden]="i !== current">
        <img
          [ngSrc]="img.src"
          [attr.width]="img.width || '100%'"
          [attr.height]="img.height || '100%'"
          [alt]="img.alt"
          loading="lazy"
          decoding="async"
          class="slide-img"
          fill />
      </figure>
    }
  </div>

  <!-- Indicadores laterales (verticales a la derecha) -->
  <div class="indicators" role="tablist" aria-label="slides">
    @for (img of images ?? []; track img.src; let i = $index) {
      <button
        class="dot"
        type="button"
        role="tab"
        [attr.aria-selected]="i === current"
        [attr.aria-current]="i === current"
        [class.active]="i === current"
        (click)="goTo(i)"
        [attr.aria-label]="'Go to slide ' + (i + 1)">
      </button>
    }
  </div>

</div>
